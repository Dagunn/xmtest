$(document).ready((function(){$(".slider").slick({infinite:!0,speed:300,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1058,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:890,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:580,settings:{slidesToShow:1}}]})}));let result=[];function isRightSymbol({symbol:t}){return"BTC"==t||"ETH"==t||"XRP"==t||"LTC"==t||"BCH"==t}function fillWrap(){let t="",e="up";result.forEach((s=>{s.percent_change_24h<0&&(e="down"),t+=` \n        <div class="crypto__box grid">\n          <div class="flex crypto__info">\n              <svg width="34" height="34">\n                  <use xlink:href="images/svg-sprite/icons.svg#${s.symbol.toLowerCase()}"></use>\n              </svg>\n              <p class="crypto__symbol textUp"><small>${s.symbol}</small></p>\n              <p class="crypto__title textUp">${s.name}</p>\n          </div>\n          \n          <p class="crypto__price">$ ${s.price_usd}</p>\n              <small class="crypto__percents crypto__percents--${e}">\n              <i class="fa fa-chevron-circle-${e}" aria-hidden="true"></i>\n              ${s.percent_change_24h}\n          </small>\n      </div>\n      `,document.querySelector(".js-crypto").innerHTML=t}))}fetch("https://api.coinlore.net/api/tickers/").then((t=>t.json())).then((t=>{result=t.data.filter(isRightSymbol),fillWrap()}));const initForm={formItems:{form:document.querySelector("#form"),email:document.querySelector(".js-form__email"),password:document.querySelector(".js-form__password"),submitBtn:document.querySelector(".js-register__btn"),successBox:document.querySelector(".js-success"),controlEmail:document.querySelector(".js-form__control-email"),controlLength:document.querySelector(".js-register__length"),controlDigit:document.querySelector(".js-register__digit"),controlLower:document.querySelector(".js-register__lower"),controlUpper:document.querySelector(".js-register__upper"),controlSpecial:document.querySelector(".js-register__special")},validOk:{email:!1,password:!1},initValidation:function(){this.formItems.email.addEventListener("input",this.processEmail.bind(initForm)),this.formItems.password.addEventListener("input",this.processPassword.bind(initForm))},processEmail:function(t){let e=t.target.value;this.validateEmail(e)?(this.validOk.email=!0,this.emailStyleControl(!0,e),this.validOk.password&&this.unlockBtn()):(this.validOk.email=!1,this.lockBtn(),this.emailStyleControl(!1,e))},processPassword:function(t){let e=t.target.value,s=!1,i=0,o=this.validatePassword(e);Object.values(o).forEach((({state:t})=>{t?i++:i--,i==Object.values(o).length&&(s=!0)})),s?(this.validOk.password=!0,this.validOk.email&&this.unlockBtn()):(this.validOk.password=!1,this.lockBtn()),this.stateStyleControl(o)},validatePassword:function(t){const e={valueLength:{state:!1,selector:this.formItems.controlLength},uppercase:{state:!1,selector:this.formItems.controlUpper},lowercase:{state:!1,selector:this.formItems.controlLower},digit:{state:!1,selector:this.formItems.controlDigit},specialChars:{state:!1,selector:this.formItems.controlSpecial}};return e.valueLength.state=/^.{8,15}$/.test(t),e.uppercase.state=/[A-Z]/.test(t),e.lowercase.state=/[a-z]/.test(t),e.digit.state=/\d/.test(t),e.specialChars.state=/[#\[\]()@$&*!?|,.^/\\+_\-]/.test(t),e},stateStyleControl:function(t){Object.values(t).forEach((t=>{t.state?(t.selector.classList.add("greenTxt"),t.selector.classList.remove("redTxt")):(t.selector.classList.add("redTxt"),t.selector.classList.remove("greenTxt"))}))},emailStyleControl:function(t,e){t?(this.formItems.email.classList.add("borderGreen"),this.formItems.email.classList.remove("borderRed"),this.formItems.controlEmail.classList.contains("hidden")||this.formItems.controlEmail.classList.add("hidden")):(this.formItems.email.classList.add("borderRed"),this.formItems.email.classList.remove("borderGreen"),this.formItems.controlEmail.classList.contains("hidden")?this.formItems.controlEmail.classList.remove("hidden"):e||this.formItems.controlEmail.classList.add("hidden"))},validateEmail:function(t){return/(?:[a-z0-9+!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i.test(t)},unlockBtn:function(){this.submitForm(),this.formItems.submitBtn.classList.remove("disabled"),this.formItems.submitBtn.removeAttribute("disabled")},lockBtn:function(){this.formItems.submitBtn.setAttribute("disabled",""),this.formItems.submitBtn.classList.add("disabled")},submitForm:function(){this.formItems.form.addEventListener("submit",(async t=>{t.preventDefault();const e=await fetch("./form_process.php",{method:"POST",body:new FormData(this.formItems.form)});"success"==await e.text()&&(this.formItems.form.submit(),setTimeout((()=>{this.formItems.successBox.classList.remove("hidden")}),1e3),setTimeout((()=>{this.formItems.successBox.classList.add("hidden")}),1e4))}))}};initForm.initValidation();